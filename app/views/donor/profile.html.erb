<div class="donation-profile-filler"></div>
<div class="profile-container">
  <h1>Welcome, <%= @user.email %> (User ID: <%= @user.id %>)</h1>
  <div class="profile-information">
    <%= image_tag "profile_img.png", class: "profile-img" %> 
    <span class="profile-label">Subscribed?</span> <br>
    <% if @user.subscribed %> Yes <% else %> No <% end %><br> <br>
    <span class="profile-label">Phone</span> <br>
    408-823-2389 (this is hard coded) <br> <br>
    <span class="profile-label">Address</span> <br>
    123 Some Street Here <br>
    Berkeley, CA 94704 (also hard coded, should users have a set address?) <br> <br>
    <span class="profile-label">Email</span> <br>
    <%= @user.email %> <br> <br>
  </div>
  <div class="profile-summary">
    <h2>Donation Summary</h2>
    <span class="profile-label">Completed</span> 
    <span class="profile-summary-content"><%= @completed_donations.count %></span> <br> <br>
    <span class="profile-label">In Progress</span> 
    <span class="profile-summary-content"><%= @inprogress_donations.count %></span> <br> <br>
    <span class="profile-label">Pending</span>  
    <span class="profile-summary-content"><%= @pending_donations.count %></span> 
    <div class="donation-profile-filler"></div>
    <center><%= link_to "Donate!", donations_new_path, class: "profile-summary-donate-link" %></center>
  </div>
</div>
<div class="donation-profile-filler"></div>
<div class="donation-container">
  <h1>Donation History (<%= @donations.count %>)</h1>
  
  <div class="donation-key-container">
    <div class="donation-key donation-key-pending">Pending</div>
    <div class="donation-key-description">Needs Coordinator and/or Recipient</div>
    <div class="donation-key donation-key-inprogress">In Progress</div>
    <div class="donation-key-description">Coordinator and Recipient Assigned</div>
    <div class="donation-key donation-key-completed">Completed</div>
    <div class="donation-key-description">Donation Delivered</div>
  </div>

  <% @donations.each do |d| %>
    <% if d.status == "In Progress" %>
      <%= render partial: "in_progress", locals: { d: d } %>
    <% elsif d.status == "Pending" %>
      <%= render partial: "pending", locals: { d: d } %>
    <% elsif d.status == "Completed" %>
      <%= render partial: "completed", locals: { d: d } %> 
    <% end %>
  <% end %>
</div>

<div class="donation-profile-filler"></div>