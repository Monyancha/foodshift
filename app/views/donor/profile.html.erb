<div class="donor-dashboard-block">
  <div class="row">
    <div class="small-12 columns">
      <div class="dashboard-wrap">
        <div class="dashboard">
          <div class="card-header">
            <div class="row">
              <div class="small-12 columns">
                <span class="card-header-title">Welcome, <%= @user.email %> (User ID: <%= @user.id %>)</span>
              </div>
            </div>
          </div>
          <div class="card-profile">
            <div class="row">
              <div class="small-12 columns">
                <div class="profile-info">
                  <div class="row">
                    <div class="medium-4 columns">
                      <ul class="profile-img-wrap">
                        <li class="profile-img-item"><%= image_tag "profile_img.png", class: "profile-img" %></li>
                      </ul>
                      <h1 class="profile-info-title">Blooprint</h1>
                    </div>
                    <div class="medium-4 columns">
                      <ul class="fa-ul">
                        <li><i class="fa-li fa fa-user"></i><%= best_in_place @profile, :person, as: :input %></li>
                        <li><i class="fa-li fa fa-envelope-o"></i><%= best_in_place @profile, :email, as: :input %></li>
                        <li><i class="fa-li fa fa-phone"></i><%= best_in_place @profile, :phone, as: :input %></li>
                        <li><i class="fa-li fa fa-map-marker"></i><%= best_in_place @profile, :address, as: :input %></li>
                        <li>
                          <i class="fa-li fa fa-bullhorn"></i><%= best_in_place @user, :subscribed, :as => :checkbox, :collection => ["Not subscribed", "Currently subscribed"] %>
                        </li>
                      </ul>
                    </div>
                    <div class="medium-4 columns">
                      <h2 class="profile-summary-title">Donation Summary</h2>
                      <ul class="profile-summary-wrap">
                        <li class="profile-summary-item">Completed: <span class="profile-summary-count"><%= @completed_donations.count %></span></li>
                        <li class="profile-summary-item">In progress: <span class="profile-summary-count"><%= @inprogress_donations.count %></span></li>
                        <li class="profile-summary-item">Pending: <span class="profile-summary-count"><%= @pending_donations.count %></span></li>
                      <div class="donation-profile-filler"></div>
                      <center><%= link_to "Donate!", donations_new_path, class: "profile-summary-donate-link" %></center>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="card-history">
            <div class="row">
              <div class="small-12 columns">
                <div class="history-title">
                  Donation History (<%= @donations.count %>)
                </div>
                <div class="donation-container">
                  <div class="donation-key-container">
                    <div class="row">
                      <div class="small-12 columns">
                        <div class="donation-key donation-key-pending">Pending</div>
                        <div class="donation-key-description">Needs Coordinator and/or Recipient</div>
                        <div class="donation-key donation-key-inprogress">In Progress</div>
                        <div class="donation-key-description">Coordinator and Recipient Assigned</div>
                        <div class="donation-key donation-key-completed">Completed</div>
                        <div class="donation-key-description">Donation Delivered</div>
                      </div>
                    </div>
                  </div>

                  <% @donations.each do |d| %>
                    <% if d.status == "In Progress" %>
                      <%= render partial: "in_progress", locals: { d: d } %>
                    <% elsif d.status == "Pending" %>
                      <%= render partial: "pending", locals: { d: d } %>
                    <% elsif d.status == "Completed" %>
                      <%= render partial: "completed", locals: { d: d } %>
                    <% end %>
                  <% end %>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
</div>

<div class="donation-profile-filler"></div>
